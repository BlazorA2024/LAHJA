 
@using CardShopping.Web.VitsModel
@using MudBlazor
@using System.Globalization

<MudContainer MaxWidth="MaxWidth.Medium" Class="pa-4">
    <MudCard>
        <MudCardHeader>
            <MudText Typo="Typo.h5">معلومات البروفايل</MudText>
        </MudCardHeader>
        <MudCardContent>
             
            <MudText Typo="Typo.body1"><strong>رقم المستخدم:</strong> @UserProfile.IdUser</MudText>
            <MudText Typo="Typo.body1"><strong>البريد الإلكتروني:</strong> @UserProfile.Email</MudText>
            <MudText Typo="Typo.body1"><strong>رقم الهاتف:</strong> @UserProfile.NumberPhone</MudText>
        </MudCardContent>
        <MudButton Variant="MudBlazor.Variant.Filled" Color="MudBlazor.Color.Primary">تحميل الفواتير والايصالات </MudButton>
        <MudButton Variant="MudBlazor.Variant.Filled" Color="MudBlazor.Color.Primary"> تسجيل الخروج </MudButton>
    </MudCard>

    <MudSpacer />

  
    <MudCard>

        <MudCardHeader>
            <MudText Typo="Typo.h6"> الاشتراكات</MudText>
        </MudCardHeader>
        <MudCardContent>
            @if (UserProfile.outputPlances.Count !=0  )
            {

              
                <MudTable Items="UserProfile.outputPlances" Dense="true">
                  
                    <HeaderContent>
                        <MudTh> نوع الاشتراك </MudTh>
                        <MudTh>حالة  الاشتراك </MudTh>
                        <MudTh>تاريخ الاشتراك</MudTh>
                        <MudTh>تاريخ الانتهاء</MudTh>
                        <MudTh>الطلبات المتبقية</MudTh>
                        <MudTh>وصف الخدمة  </MudTh>


                    </HeaderContent>
                    <RowTemplate>
                        <MudTd>@context.Nameplan</MudTd>
                        <MudTd>@context.State</MudTd>
                        <MudTd>@context.SubscrptionDate.ToString("yyyy-MM-dd", CultureInfo.InvariantCulture)</MudTd>
                        <MudTd>@context.ExpirationDate.ToString("yyyy-MM-dd", CultureInfo.InvariantCulture)</MudTd>
                       
                        

                        <MudTd>@context.RemainiingRequest</MudTd>
                        <MudTd>تحويل النص الى الصوت بالهجة النجدية </MudTd>
                    </RowTemplate>

                
                </MudTable>

                <MudButton Variant="MudBlazor.Variant.Filled" Color="MudBlazor.Color.Primary">عرض الاشتراك الحالي </MudButton>
                 <MudButton Variant="MudBlazor.Variant.Filled" Color="MudBlazor.Color.Primary"> عرض جميع الاشتراكات </MudButton>
                <MudButton Variant="MudBlazor.Variant.Filled" Color="MudBlazor.Color.Primary"> تفعيل / الغاء التجديد التلقاي  </MudButton>
               
         

            }
            else
            {
                <MudText Typo="Typo.body2">لا توجد اشتراكات متاحة.</MudText>
            }
        </MudCardContent>
    </MudCard>
    
</MudContainer>

@code {



 
    OutPutProfile UserProfile = new OutPutProfile()
        {
            IdUser = "12345",
            Email = "example@mail.com",
            NumberPhone = "+1234567890",
            outputPlances =new List<OutputSubscription>()
            {
             new OutputSubscription
        {
            Id = "2",
            Name = "الخطة السنوية",
            State = "غير نشط",
            Idplan = "A001",
            Nameplan = "الخطة السنوية",
            RemainiingRequest = 100,
            SubscrptionDate = DateTimeOffset.UtcNow.AddMonths(-6),
            ExpirationDate = DateTimeOffset.UtcNow.AddMonths(6)
        },
             new OutputSubscription
        {
            Id = "2",
            Name = "الخطة الأساسية",
            State = "نشط",
            Idplan = "B001",
            Nameplan = "الخطة الشهرية",
            RemainiingRequest = 10,
            SubscrptionDate = DateTimeOffset.UtcNow.AddDays(-15),
            ExpirationDate = DateTimeOffset.UtcNow.AddDays(15)
            }
            ,
               new OutputSubscription
        {
            Id = "3",
            Name = "الخطة الأساسية",
            State = "منتهى ",
            Idplan = "B001",
            Nameplan = "الخطة الشهرية",
            RemainiingRequest = 10,
            SubscrptionDate = DateTimeOffset.UtcNow.AddDays(-15),
            ExpirationDate = DateTimeOffset.UtcNow.AddDays(15)
            }
       
        
        
        
        
        
            }
        
        
        
        
        
        
        
        
        };

   


}

